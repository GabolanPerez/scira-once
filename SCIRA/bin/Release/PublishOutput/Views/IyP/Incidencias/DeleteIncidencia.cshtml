@model SCIRA.Models.k_incidencia
@using SCIRA.Utilidades
<script src="~/Scripts/sharedScripts.js"></script>
<link href="~/Content/bootstrap-toggle.min.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap-toggle.min.js"></script>

<script>
    $(document).ready(function () {
        $("#ind@(ViewBag.Origen)").removeClass("IndicatorLoader");
    });



</script>

@{
    int origen = ViewBag.Origen;
    string archivo1 = origen == 1 ? Strings.getMSG("lyPCreate011") : origen == 2 ? Strings.getMSG("lyPInformesCreate006") : Strings.getMSG("RespuestaIncidenciaResponderIncidenciaCreate004");
    string archivo2 = origen == 1 || origen == 2 ? Strings.getMSG("lyPEdit001") : Strings.getMSG("RespuestaIncidenciaResponderIncidenciaCreate005");
}

@if (ViewBag.Origen == 1) //En caso de Venir desde un Oficio
{
    <a href="#" onclick="indexOficio()">@Strings.getMSG("Menu127")</a>
    <span> >> @Strings.getMSG("lyPCreate029") @ViewBag.nb_objeto</span>
    <a href="#" onclick="indexIncidencias(1,@ViewBag.id)"> >> @Strings.getMSG("Incidencias")</a>
}
@if (ViewBag.Origen == 2) //En caso de Venir desde una Auditoría Externa
{
    <a href="#" onclick="indexAuExt()">@Strings.getMSG("lyPIndex001")</a>
    <span> >> @Strings.getMSG("lyPCreate030") @ViewBag.nb_objeto</span>
    <a href="#" onclick="indexIncidencias(2,@ViewBag.id)"> >> @Strings.getMSG("Incidencias")</a>
}
@if (ViewBag.Origen == 3) //En caso de Venir desde una Auditoría Interna
{
    <a href="#" onclick="indexAuInt()">@Strings.getMSG("lyPIndex002")</a>
    <span> >> @Strings.getMSG("lyPCreate030") @ViewBag.nb_objeto</span>
    <a href="#" onclick="indexIncidencias(3,@ViewBag.id)"> >> @Strings.getMSG("Incidencias")</a>
}
@if (ViewBag.Origen == 4) //En caso de Venir desde una Auditoría Interna
{
    <a href="#" onclick="indexCert()">@Strings.getMSG("lyPCertificacionesIndex001")</a>
    <span> >> @Strings.getMSG("lyPCreate031") @ViewBag.nb_objeto</span>
    <a href="#" onclick="indexIncidencias(4,@ViewBag.id)"> >> @Strings.getMSG("Incidencias")</a>
}
@if (ViewBag.Origen == 5) //En caso de Venir desde una Auditoría Interna
{
    <a href="#" onclick="indexMRyC()">@Strings.getMSG("Menu077")</a>
    <span> >> @Strings.getMSG("lyPCreate032") @ViewBag.nb_objeto</span>
    <a href="#" onclick="indexIncidencias(5,@ViewBag.id)"> >> @Strings.getMSG("Incidencias")</a>
}
@if (ViewBag.Origen == 6) //En caso de Venir desde una Auditoría Interna
{
    <a href="#" onclick="indexOtros()">@Strings.getMSG("ReporteIyPIndex021")</a>
    <span> >> @Strings.getMSG("lyPCreate033") @ViewBag.nb_objeto</span>
    <a href="#" onclick="indexIncidencias(6,@ViewBag.id)"> >> @Strings.getMSG("Incidencias")</a>
}


<h4>@Strings.getMSG("lyPIncidenciasDelete001")</h4>

<form id="form@(ViewBag.Origen)">
    @Html.AntiForgeryToken()
    <input type="text" name="id" hidden value="@Model.id_incidencia">
    <input type="text" name="origen" hidden value="@ViewBag.Origen">
</form>

@if (origen == 1 || origen == 2 || origen == 3 || origen == 6)
{
    <div class="row">
        <div class="form-group">
            <label class="control-label col-xs-2 col-md-2">@Strings.getMSG("lyPCreate034")</label>
            <div class="col-xs-3 col-md-3">
                <input type="text" class=" form-control" value="@Model.lvl_1" disabled />
            </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group">
            <label class="control-label col-xs-2 col-md-2">@Strings.getMSG("lyPCreate035")</label>
            <div class="col-xs-3 col-md-3">
                <input type="text" class=" form-control" value="@Model.lvl_2" disabled />
            </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group">
            <label class="control-label col-xs-2 col-md-2">@Strings.getMSG("lyPCreate036")</label>
            <div class="col-xs-3 col-md-3">
                <input type="text" class=" form-control" value="@Model.lvl_3" disabled />
            </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group">
            <label class="control-label col-xs-2 col-md-2">@Strings.getMSG("lyPCreate037")</label>
            <div class="col-xs-3 col-md-3">
                <input type="text" class=" form-control" value="@Model.lvl_4" disabled />
            </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group">
            <label class="control-label col-xs-2 col-md-2">@Strings.getMSG("lyPCreate038")</label>
            <div class="col-xs-3 col-md-3">
                <input type="text" class=" form-control" value="@Model.lvl_5" disabled />
            </div>
        </div>
    </div>
}

<div class="row">
    <div class="form-group">
        <label class="control-label col-xs-2 col-md-2">@Strings.getMSG("RiesgoCreate074")</label>

        <label class="control-label col-xs-offset-5 col-md-offset-5 col-xs-2 col-md-1">@Strings.getMSG("Responsable")</label>
        <div class="col-xs-3 col-md-3">
            <input type="text" value="@Model.c_usuario.nb_usuario" class="form-control" readonly>
        </div>
    </div>
</div>

<div class="row">
    <div class="form-group">
        <div class="col-xs-offset-1 col-md-offset-1 col-xs-4 col-md-4">
            <textarea class="form-control" rows="5" disabled="">@(Model.ds_incidencia)
            </textarea>
        </div>

        <label class="control-label col-xs-offset-2 col-md-offset-2 col-xs-2 col-md-1">@Strings.getMSG("Menu063")</label>
        <div class="col-xs-3 col-md-3">
            <input type="text" value="@Model.c_clasificacion_incidencia.nb_clasificacion_incidencia" class="form-control" readonly>
        </div>
    </div>
</div>

<div class="row">
    <div class="form-group">
        <label class="control-label col-xs-2 col-md-2">@Strings.getMSG("RiesgoCreate068")</label>
        <div class="col-xs-2 col-md-2">
            <div class="input-group">
                <input type="checkbox" data-toggle="toggle" data-on="@Strings.getMSG("UsuarioIndex004")" data-off="@Strings.getMSG("UsuarioIndex005")" data-width="140" disabled @(Model.requiere_plan ? "checked" : "")>
                <div class="input-group-btn">
                    <button type="button" class="btn btn-default" title="" data-toggle="popover" data-trigger="hover" data-content="">
                        <i class="glyphicon glyphicon-question-sign"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="row">
    <div class="form-group">
        <div class="col-xs-offset-2 col-xs-6 col-md-offset-9 col-md-3">
            <input type="button" value="@Strings.getMSG("Borrar")" class="btn btn-primary" onclick="deleteIncidenciaPost(@ViewBag.Origen)" />
            <input type="button" class="btn btn-default" onclick="indexIncidencias(@ViewBag.Origen,@ViewBag.id);" value="@Strings.getMSG("Cancelar")" />
        </div>
    </div>
</div>
