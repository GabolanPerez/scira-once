@model IEnumerable<SCIRA.Models.k_programa_trabajo>
@using SCIRA.Utilidades

<script src="~/Scripts/sharedScripts.js"></script>
<script>
    $(document).ready(function () {
        initTables("#menuModal");
        menuModal.setTitle("@Strings.getMSG("GraphicsAuditoriandex006") @ViewBag.criticidad");
    });
</script>

<table class="results table table-striped table-bordered table-hover">
    <thead>
        <tr style="background-color:white;">
            <th>@Strings.getMSG("GraphicsAuditoriandex005")</th>
            <th>@Strings.getMSG("Entidad")</th>
            <th>@Strings.getMSG("Area")</th>
            <th>@Strings.getMSG("MCSubProcesoIndex002")</th>
            <th>@Strings.getMSG("AuditoriaIndexUniversoAuditable002")</th>
            <th>@Strings.getMSG("ProcesosAuditoriaPruebasEjecucion002")</th>
            <th>@Strings.getMSG("ProcesosAuditoriaPruebasEjecucion003")</th>
            <th>@Strings.getMSG("ProcesosAuditoriaPruebasEjecucion004")</th>
            <th>@Strings.getMSG("Menu026")</th>
            <th>@Strings.getMSG("BDEICreate005")</th>
            <th>@Strings.getMSG("ProcesosAuditoriaEditPrueba004")</th>
            <th>@Strings.getMSG("Responsable")</th>
            <th>@Strings.getMSG("AuditoriaIndexSeguimientoObservaciones004")</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            string estatus;

            try
            {
                estatus = item.c_estatus_programa_trabajo.nb_estatus_programa_trabajo;
            }
            catch
            {
                estatus = "N/A";
            }

            <tr>
                <td>@item.k_auditoria.c_auditoria.nb_auditoria</td>
                <td>@item.k_auditoria.c_auditoria.c_entidad.nb_entidad</td>
                <td>@item.k_auditoria.c_auditoria.c_area.nb_area</td>
                <td>@(item.k_auditoria.c_auditoria.es_regulada ? Strings.getMSG("AuditoriaIndexUniversoAuditable006") : Strings.getMSG("AuditoriaIndexUniversoAuditable009"))</td>
                <td>@(item.k_auditoria.c_auditoria.c_solicitante_auditoria.nb_solicitante_auditoria)</td>
                <td>@(item.resultado)</td>
                <td>@(item.incidencia_detectada)</td>
                <td>@(item.recomendaciones)</td>
                <td>@(item.c_criticidad_programa_trabajo.nb_criticidad_programa_trabajo)</td>
                <td>@(estatus)</td>
                <td>@(item.tema)</td>
                <td>@(item.responsable)</td>
                <td>@(item.es_duplicada ? Strings.getMSG("AjustesMailIndex015") : Strings.getMSG("AjustesMailIndex016"))</td>
            </tr>
        }
    </tbody>
</table>