@model IEnumerable<SCIRA.Models.c_entidad>
@using SCIRA.Utilidades
@{
    Layout = "~/Views/Shared/_LayoutIndex.cshtml";
    ViewBag.Title = "Cuentas Contables";
}
<script>
    function showGroups(id) {
            options = {
                title: "Grupos de cuentas contables",
                size: "lg",
                show: true,
                loadUrl: "@(Url.Action("Groups","CuentaContable"))/"+id
            };

            menuModal.initModal(options)
        }
</script>


<h2>@Strings.getMSG("Menu044")</h2>

<table id="results" class="table table-striped table-bordered table-hover">
    <thead>
        <tr>
            <th class="search">@Strings.getMSG("Entidad")</th>
            <th class="search">@Strings.getMSG("CuentaContableCreate005")</th>
            <th width="40"></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @(item.cl_entidad + " - " + item.nb_entidad)
                </td>
                <td>
                    @(item.c_grupo_cuenta_contable.Where(c => (c.esta_activo ?? false)).Count())
                </td>
                <td>
                    <a onclick="showGroups(@item.id_entidad)">
                        <i class="fa fa-sitemap" title="@Strings.getMSG("CuentaContableCreate006")"></i>
                    </a>
                </td>
            </tr>
        }
    </tbody>
</table>
