@model SCIRA.Models.c_indicador
@using SCIRA.Models
@using SCIRA.Utilidades
<script src="~/Scripts/sharedScripts.js"></script>
<script>
    var optionsEI = {
        responsive: true,
        title: {
            display: true,
            text: 'title'
        },
        lines: [
            {
                type: "horizontal",
                y: @ViewBag.LineG,
                color: "green"
            },
            {
                type: "horizontal",
                y: @ViewBag.LineY,
                color: "yellow"
            },
            {
                type: "horizontal",
                y: @ViewBag.LineR,
                color: "red"
            },
        ]
    };

    var gEI;
    var grEI;
    var tgEI = 'bar';
    var optEI = optionsEI

    var dataEI = @Html.Raw(ViewBag.dataEI)

    $(document).ready(function () {
        var bgc = $(".modal-header").css('background-color');
        var c = $(".modal-header").css('color');

        $(".emphasisSICI").css('background-color', bgc);
        $(".emphasisSICI").css('color', c);

        gEI = $("#gEI");
        grEI = buildChart(dataEI, tgEI, "@Strings.getMSG("GraphicsIndicadorIndex002")", gEI, optEI,'Gainsboro');
    });
</script>

@{
    var db = new SICIEntities();
    var periodo = ViewBag.periodo;
    k_evaluacion evaluacion = null;
    try
    {
        evaluacion = Model.k_evaluacion.Where(e => e.id_periodo_indicador == periodo.id_periodo_indicador).First();
    }
    catch
    {

    }

}



<table class="table table-stripped table-bordered">
    <tbody>
        <tr>
            <td class="emphasisSICI">@Strings.getMSG("GraphicsIndicadorDiarioIndex004")</td>
            <td colspan="2">@Model.c_entidad.nb_entidad</td>
            <td class="emphasisSICI">@Strings.getMSG("GraphicsIndicadorDiarioIndex005")</td>
            <td colspan="2">@Model.cl_indicador</td>
        </tr>
        <tr>
            <td class="emphasisSICI">@Strings.getMSG("GraphicsIndicadorDiarioIndex006")</td>
            <td colspan="2">------</td>
            <td class="emphasisSICI">@Strings.getMSG("GraphicsIndicadorDiarioIndex007")</td>
            <td colspan="2">@Model.c_area.nb_area</td>
        </tr>
        <tr>
            <td class="emphasisSICI">@Strings.getMSG("GraphicsIndicadorDiarioIndex008")</td>
            <td colspan="2">@Model.nb_indicador</td>
            <td class="emphasisSICI">@Strings.getMSG("GraphicsIndicadorDiarioIndex009")</td>
            <td colspan="2">@periodo.nb_periodo_indicador</td>
        </tr>
        <tr>
            <td class="emphasisSICI">@Strings.getMSG("GraphicsIndicadorDiarioIndex010")</td>
            <td colspan="5">@Model.ds_indicador</td>
        </tr>
        <tr>
            <td class="emphasisSICI" width="1f">@Strings.getMSG("GraphicsIndicadorDiarioIndex0011")</td>
            <td class="emphasisSICI" width="1f">@Strings.getMSG("GraphicsIndicadorDiarioIndex012")</td>
            <td class="emphasisSICI" width="1f">@Strings.getMSG("GraphicsIndicadorDiarioIndex013")</td>
            <td class="emphasisSICI" width="1f">@Strings.getMSG("GraphicsIndicadorDiarioIndex014")</td>
            <td class="emphasisSICI" width="1f">@Strings.getMSG("GraphicsIndicadorDiarioIndex015")</td>
            <td class="emphasisSICI" width="1f">@Strings.getMSG("GraphicsIndicadorDiarioIndex016")</td>
        </tr>
        <tr>
            <td>Num/den * 100</td>
            <td>@Model.c_frecuencia_indicador.nb_frecuencia_indicador</td>
            @if (Model.umbral000i < Model.umbral050i)
            {
                <td>@(string.Format("{0:0}", Model.umbral000i))% <i class="fa fa-arrow-right"></i>@(string.Format("{0:0}", Model.umbral050f))%  <i class="fa fa-circle" style="color:red"></i></td>
            }
            else
            {
                <td>@(string.Format("{0:0}", Model.umbral050i))% <i class="fa fa-arrow-right"></i>@(string.Format("{0:0}", Model.umbral000f))% <i class="fa fa-circle" style="color:red"></i></td>
            }
            <td>@(string.Format("{0:0}", Model.umbral075i))% <i class="fa fa-arrow-right"></i>@(string.Format("{0:0}", Model.umbral075f))% <i class="fa fa-circle" style="color:yellow"></i></td>
            <td>@(string.Format("{0:0}", Model.umbral100i))% <i class="fa fa-arrow-right"></i>@(string.Format("{0:0}", Model.umbral100f))% <i class="fa fa-circle" style="color:green"></i></td>
            <td>@(evaluacion != null ? (string.Format("{0:0}", evaluacion.medicion)): "N/A")</td>
        </tr>
        <tr>
            <td colspan="6" class="emphasisSICI">@Strings.getMSG("GraphicsIndicadorDiarioIndex017")</td>
        </tr>
        <tr>
            <td class="emphasisSICI">@Strings.getMSG("GraphicsIndicadorDiarioIndex018")</td>
            <td colspan="4">@Model.ds_numerador</td>
            <td>@(evaluacion != null ? (string.Format("{0:0}", evaluacion.numerador)): "N/A")</td>
        </tr>
        <tr>
            <td class="emphasisSICI">@Strings.getMSG("GraphicsIndicadorDiarioIndex019")</td>
            <td colspan="4">@Model.ds_denominador</td>
            <td>@(evaluacion != null ? (string.Format("{0:0}", evaluacion.denominador)): "N/A")</td>
        </tr>
    </tbody>
</table>

<canvas id="gEI" width="424" height="212" style="width: 424px; height: 212px;" />

<input type="button" class="btn btn-default" value="@Strings.getMSG("Regresar")" onclick="details('@ViewBag.label',@ViewBag.tipo)" /> 