@model IEnumerable<SCIRA.Models.c_sub_proceso>
@using SCIRA.Utilidades
@{
    ViewBag.Title = "Reporte de Inventario de Flujos y Narrativas";
    Layout = "~/Views/Shared/_LayoutReporte.cshtml";
}

<h2>@Strings.getMSG("ReporteFlujoNarrativaIndex001")</h2>

<table class="results table table-striped table-bordered table-hover">
    <thead>
        <tr>
            <th class="search">@Strings.getMSG("Entidad")</th>
            <th class="search">@Strings.getMSG("ReporteEstructuraIndex001")</th>
            <th class="search">@Strings.getMSG("MP")</th>
            <th class="search">@Strings.getMSG("ReporteEstructuraIndex002")</th>
            <th class="search">@Strings.getMSG("P")</th>
            <th class="search">@Strings.getMSG("ReporteEstructuraIndex003")</th>
            <th class="search">@Strings.getMSG("SP")</th>
            <th class="search">@Strings.getMSG("RiesgoCreate037")</th>
            <th class="search">@Strings.getMSG("ReporteFlujoNarrativaIndex002")</th>
            <th class="search">@Strings.getMSG("ReporteFlujoNarrativaIndex003")</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            var pr = item.c_proceso;
            var mp = pr.c_macro_proceso;
            var en = mp.c_entidad;

            var respEn = en.c_usuario;
            var respMp = mp.c_usuario;
            var respPr = pr.c_usuario;
            var respSp = item.c_usuario;

        <tr>
            <td>@(en.cl_entidad + " - " + en.nb_entidad)</td>
            <td>@(respEn.nb_usuario)</td>
            <td>@(mp.cl_macro_proceso + " - " + mp.nb_macro_proceso)</td>
            <td>@(respMp.nb_usuario)</td>
            <td>@(pr.cl_proceso + " - " + pr.nb_proceso)</td>
            <td>@(respPr.nb_usuario)</td>
            <td>@(item.cl_sub_proceso + " - " + item.nb_sub_proceso)</td>
            <td>@(respSp.nb_usuario)</td>
            <td>@(item.nb_archivo_flujo)</td>
            <td>@(item.nb_archivo_manual)</td>
        </tr>
        }
    </tbody>
</table>
