@model IEnumerable<SCIRA.ViewModels.emailViewModel>
@using SCIRA.Utilidades
<link href="~/Content/Extras.css" rel="stylesheet" />
@{
    /**/

    Layout = "~/Views/Shared/_LayoutIndex.cshtml";
    ViewBag.Title = @Strings.getMSG("Menu073");
}

<link href="~/Content/bootstrap-toggle.min.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap-toggle.min.js"></script>


<script>
    $(document).ready(function () {
        $("#s0").html($("#e0s").text());
        $("#h0").html($("#e0h").text());
        $("#b0").html($("#e0b").text());
        $("#s1").html($("#e1s").text());
        $("#h1").html($("#e1h").text());
        $("#b1").html($("#e1b").text());
        $("#s2").html($("#e2s").text());
        $("#h2").html($("#e2h").text());
        $("#b2").html($("#e2b").text());
        $("#s3").html($("#e3s").text());
        $("#h3").html($("#e3h").text());
        $("#b3").html($("#e3b").text());
        $("#s4").html($("#e4s").text());
        $("#h4").html($("#e4h").text());
        $("#b4").html($("#e4b").text());
        $("#s5").html($("#e5s").text());
        $("#h5").html($("#e5h").text());
        $("#b5").html($("#e5b").text());
        $("#s6").html($("#e6s").text());
        $("#h6").html($("#e6h").text());
        $("#b6").html($("#e6b").text());

         $(".S1").change(function () {
             var selectedItem = $(this).val();


             var text = $(this).find('option:selected').html();


            $.ajax({
                cache: false,
                type: "GET",
                url: "@(Url.Action("SetPendingListFrequency","Utilidades"))",
                data: { "freq": selectedItem,"label":text },
                success: function (data) {
                    if (data == "True") {
                        toastr.info("@Strings.getMSG("MassiveNotificationWriteMessage020") " + text);
                    }
                },
                error: function (xhr, ajaxOptions, thrownError) {

                }
            });

        });

    })

    function toggleMSGSend(id, value) {
        $.ajax({
                dataType: "html",
                type: "post",
                url: '@(Url.Action("ToggleActive", "Notification"))',
                data: {id,value},
                success: function (data) {
                    //alert("Funcionó");
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    //alert("Falló");
                }
            });
    }


    $(function () {
        $('.scb0').change(function () {
            toggleMSGSend($(this).data("value"), $(this).prop('checked'));
        })
    })
</script>

<h2>@Strings.getMSG("Menu073")</h2>


<div id="e0h" style="display:none">@Model.ElementAt(0).head</div>
<div id="e0s" style="display:none">@Model.ElementAt(0).subject</div>
<div id="e0b" style="display:none">@Model.ElementAt(0).body</div>
<div id="e1h" style="display:none">@Model.ElementAt(1).head</div>
<div id="e1s" style="display:none">@Model.ElementAt(1).subject</div>
<div id="e1b" style="display:none">@Model.ElementAt(1).body</div>
<div id="e2h" style="display:none">@Model.ElementAt(2).head</div>
<div id="e2s" style="display:none">@Model.ElementAt(2).subject</div>
<div id="e2b" style="display:none">@Model.ElementAt(2).body</div>
<div id="e3h" style="display:none">@Model.ElementAt(3).head</div>
<div id="e3s" style="display:none">@Model.ElementAt(3).subject</div>
<div id="e3b" style="display:none">@Model.ElementAt(3).body</div>
<div id="e4h" style="display:none">@Model.ElementAt(4).head</div>
<div id="e4s" style="display:none">@Model.ElementAt(4).subject</div>
<div id="e4b" style="display:none">@Model.ElementAt(4).body</div>
<div id="e5h" style="display:none">@Model.ElementAt(5).head</div>
<div id="e5s" style="display:none">@Model.ElementAt(5).subject</div>
<div id="e5b" style="display:none">@Model.ElementAt(5).body</div>
<div id="e6h" style="display:none">@Model.ElementAt(6).head</div>
<div id="e6s" style="display:none">@Model.ElementAt(6).subject</div>
<div id="e6b" style="display:none">@Model.ElementAt(6).body</div>

<div class="form-horizontal">
    <div class="row">
        <div class="card" style="width: 54rem;">
            <div class="card-body">
                <h4 class="card-title" id="h0"></h4>
                <h6 class="card-subtitle mb-2 text-muted" id="s0"></h6>
                <br />
                <p class="card-text" id="b0"></p>
                <a href="@Url.Action("Edit", new { id = 1 })">
                    <i class="glyphicon glyphicon-pencil" title="@Strings.getMSG("Editar")"></i>
                </a>
                <input class="scb0" type="checkbox" @(Model.ElementAt(0).send ? "checked" : "") data-value="1" data-on="@Strings.getMSG("MassiveNotificationWriteMessage021")" data-off="@Strings.getMSG("Desactivado")" data-toggle="toggle" data-size="mini" data-width="100">
                <p class="text-muted pull-right">@Strings.getMSG("NotificationIndex001")</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="card pull-right" style="width: 54rem;">
            <div class="card-body">
                <h4 class="card-title" id="h1"></h4>
                <h6 class="card-subtitle mb-2 text-muted" id="s1"></h6>
                <br />
                <p class="card-text" id="b1"></p>
                <a href="@Url.Action("Edit", new { id = 2 })">
                    <i class="glyphicon glyphicon-pencil" title="@Strings.getMSG("Editar")"></i>
                </a>
                <input class="scb0" type="checkbox" @(Model.ElementAt(1).send ? "checked" : "") data-value="2" data-on="@Strings.getMSG("MassiveNotificationWriteMessage021")" data-off="@Strings.getMSG("Desactivado")" data-toggle="toggle" data-size="mini" data-width="100">
                <p class="text-muted pull-right">@Strings.getMSG("NotificationIndex003")</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="card " style="width: 54rem;">
            <div class="card-body">
                <h4 class="card-title" id="h2"></h4>
                <h6 class="card-subtitle mb-2 text-muted" id="s2"></h6>
                <br />
                <p class="card-text" id="b2"></p>
                <a href="@Url.Action("Edit", new { id = 3 })">
                    <i class="glyphicon glyphicon-pencil" title="@Strings.getMSG("Editar")"></i>
                </a>
                <input class="scb0" type="checkbox" @(Model.ElementAt(2).send ? "checked" : "") data-value="3" data-on="@Strings.getMSG("MassiveNotificationWriteMessage021")" data-off="@Strings.getMSG("Desactivado")" data-toggle="toggle" data-size="mini" data-width="100">
                <p class="text-muted pull-right">@Strings.getMSG("NotificationIndex004")</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="card pull-right" style="width: 54rem;">
            <div class="card-body">
                <h4 class="card-title" id="h3"></h4>
                <h6 class="card-subtitle mb-2 text-muted" id="s3"></h6>
                <br />
                <p class="card-text" id="b3"></p>
                <a href="@Url.Action("Edit", new { id = 4 })">
                    <i class="glyphicon glyphicon-pencil" title="@Strings.getMSG("Editar")"></i>
                </a>
                <input class="scb0" type="checkbox" @(Model.ElementAt(3).send ? "checked" : "") data-value="4" data-on="@Strings.getMSG("MassiveNotificationWriteMessage021")" data-off="@Strings.getMSG("Desactivado")" data-toggle="toggle" data-size="mini" data-width="100">
                <p class="text-muted pull-right">@Strings.getMSG("NotificationIndex005")</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="card " style="width: 54rem;">
            <div class="card-body">
                <h4 class="card-title" id="h4"></h4>
                <h6 class="card-subtitle mb-2 text-muted" id="s4"></h6>
                <br />
                <p class="card-text" id="b4"></p>
                <a href="@Url.Action("Edit", new { id = 5 })">
                    <i class="glyphicon glyphicon-pencil" title="@Strings.getMSG("Editar")"></i>
                </a>
                <input class="scb0" type="checkbox" @(Model.ElementAt(4).send ? "checked" : "") data-value="5" data-on="@Strings.getMSG("MassiveNotificationWriteMessage021")" data-off="@Strings.getMSG("Desactivado")" data-toggle="toggle" data-size="mini" data-width="100">
                <p class="text-muted pull-right">@Strings.getMSG("NotificationIndex007")</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="card pull-right" style="width: 54rem;">
            <div class="card-body">
                <h4 class="card-title" id="h5"></h4>
                <h6 class="card-subtitle mb-2 text-muted" id="s5"></h6>
                <br />
                <p class="card-text" id="b5"></p>
                <a href="@Url.Action("Edit", new { id = 6 })">
                    <i class="glyphicon glyphicon-pencil" title="@Strings.getMSG("Editar")"></i>
                </a>
                <input class="scb0" type="checkbox" @(Model.ElementAt(5).send ? "checked" : "") data-value="6" data-on="@Strings.getMSG("MassiveNotificationWriteMessage021")" data-off="@Strings.getMSG("Desactivado")" data-toggle="toggle" data-size="mini" data-width="100">
                <p class="text-muted pull-right">@Strings.getMSG("NotificationIndex008")</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="card " style="width: 54rem;">
            <div class="card-body">
                <h4 class="card-title" id="h6"></h4>
                <h6 class="card-subtitle mb-2 text-muted" id="s6"></h6>
                <br />
                <p class="card-text" id="b6"></p>
                <a href="@Url.Action("Edit", new { id = 7 })">
                    <i class="glyphicon glyphicon-pencil" title="@Strings.getMSG("Editar")"></i>
                </a>

                <div class="row">
                    <div class="col-xs-6 col-md-3">
                        <input class="scb0" type="checkbox" @(Model.ElementAt(6).send ? "checked" : "") data-value="7" data-on="@Strings.getMSG("MassiveNotificationWriteMessage021")" data-off="@Strings.getMSG("Desactivado")" data-toggle="toggle" data-size="mini" data-width="100">
                    </div>
                    <label class="col-xs-3 col-md-offset-3 col-md-3">@Strings.getMSG("Menu053")</label>
                    <div class="col-xs-3 col-md-3">
                        @Html.DropDownList("fm7", (IEnumerable<SelectListItem>)ViewBag.frecuencias, null, new { @class = "form-control form-control-sm S1" })
                    </div>
                </div>

                    
                    
                    <p class="text-muted pull-right">@Strings.getMSG("NotificationIndex010")</p>
                </div>
        </div>
    </div>



</div>