@model SCIRA.Models.k_evaluacion
@using SCIRA.Utilidades
@{
    Layout = "~/Views/Shared/_LayoutIndex.cshtml";
    ViewBag.Title = "Agregar Evaluación";
}

<script>
    function checkValues() {
        var numerador = $("#numerador").val();
        var denominador = $("#denominador").val();

        //alert(numerador);
        //alert(denominador);

        if (numerador != "" && denominador != "") {
            //alert("enviando...");
            document.getElementById("Form").submit();
        }
        else {
            //alert("imprimiendo errores");
            if (numerador == "") $("#errNum").html ("@Strings.getMSG("IndicadorDiarioCreate006")");
            if (denominador == "") $("#errDen").html("@Strings.getMSG("IndicadorDiarioCreate006")");
        }
    };


    $(document).ready(function () {
        $("#numerador").keyup(function () {
            $("#errNum").html("");
        });

        $("#denominador").keyup(function () {
            $("#errDen").html("");
        });

        var numerador = document.getElementById('numerador');
        //numerador.value = "99999999999999999999";
        var denominador = document.getElementById('denominador');

        $('.num').on('keyup', function (e) {
            var num = $(this).val();

            if (num > 999999999999999999) {
                if (this.id == 'numerador') {
                    numerador.value = "999999999999999999";
                }
                if (this.id == 'denominador') {
                    denominador.value = "999999999999999999";
                }
            }
            return;
        });
    });





</script>
<h2>@Strings.getMSG("IndicadorDiarioCreate009")</h2>
<h2>"@ViewBag.nb_indicador"</h2>

@using (Html.BeginForm("Create", "EvaluacionIndicador", FormMethod.Post, new { onsubmit = "deshabilitar()", @id = "Form" }))
{
    @Html.AntiForgeryToken()

    <ul class="nav nav-tabs">
        <li><a href="#generales" data-toggle="tab"><h4>@Strings.getMSG("UsuarioCreate011")</h4></a></li>
        <li class="active"><a href="#evaluacion" id="eval" data-toggle="tab"><h4>@Strings.getMSG("EvaluacionIndicadorDiarioCreate002")</h4></a></li>
    </ul>

    <div id="myTabContent" class="tab-content">
        <div class="tab-pane" id="generales">
            <br />

            <div class="form-horizontal well">
                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("Entidad")</label>
                        <div class="col-xs-6 col-md-5">
                            <input class="form-control" type="text" value="@ViewBag.nb_entidad" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("ControlEdit001")</label>
                        <div class="col-xs-6 col-md-5">
                            <input class="form-control" type="text" value="@ViewBag.nb_indicador" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("SubProcesoCreate018")</label>
                        <div class="col-xs-6 col-md-5">
                            <textarea rows="3" disabled="" class="form-control" cols="20">@ViewBag.descripcion</textarea>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("IndicadorCreate003")</label>
                        <div class="col-xs-6 col-md-5">
                            <textarea rows="3" disabled="" class="form-control" cols="20">@ViewBag.descripcion_nume</textarea>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("IndicadorCreate004")</label>
                        <div class="col-xs-6 col-md-5">
                            <textarea rows="3" disabled="" class="form-control" cols="20">@ViewBag.descripcion_denum</textarea>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("Menu053")</label>
                        <div class="col-xs-6 col-md-5">
                            <input class="form-control" type="text" value="@ViewBag.frecuencia" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("IndicadorIndex002")</label>
                        <div class="col-xs-6 col-md-5">
                            <input class="form-control" type="text" value="@ViewBag.unidad" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("IndicadorDelete003")</label>
                        <div class="col-xs-6 col-md-5">
                            <input class="form-control" type="text" value="@ViewBag.control_asociado" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("IndicadorCreate010")</label>
                        <div class="col-xs-6 col-md-5">
                            <input class="form-control" type="text" value="@ViewBag.peso" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("IndicadorCreate012")</label>
                        <div class="col-xs-3 col-md-2">
                            <input class="form-control" type="text" value="@ViewBag.u000i" disabled="">
                        </div>
                        <div class="col-xs-0 col-md-1"></div>
                        <div class="col-xs-3 col-md-2">
                            <input class="form-control" type="text" value="@ViewBag.u000f" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("IndicadorCreate015")</label>
                        <div class="col-xs-3 col-md-2">
                            <input class="form-control" type="text" value="@ViewBag.u050i" disabled="">
                        </div>
                        <div class="col-xs-0 col-md-1"></div>
                        <div class="col-xs-3 col-md-2">
                            <input class="form-control" type="text" value="@ViewBag.u050f" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("IndicadorCreate018")</label>
                        <div class="col-xs-3 col-md-2">
                            <input class="form-control" type="text" value="@ViewBag.u075i" disabled="">
                        </div>
                        <div class="col-xs-0 col-md-1"></div>
                        <div class="col-xs-3 col-md-2">
                            <input class="form-control" type="text" value="@ViewBag.u075f" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("IndicadorCreate021")</label>
                        <div class="col-xs-3 col-md-2">
                            <input class="form-control" type="text" value="@ViewBag.u100i" disabled="">
                        </div>
                        <div class="col-xs-0 col-md-1"></div>
                        <div class="col-xs-3 col-md-2">
                            <input class="form-control" type="text" value="@ViewBag.u100f" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("Area")</label>
                        <div class="col-xs-6 col-md-5">
                            <input class="form-control" type="text" value="@ViewBag.area" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("Responsable")</label>
                        <div class="col-xs-6 col-md-5">
                            <input class="form-control" type="text" value="@ViewBag.responsable" disabled="">
                        </div>
                    </div>
                </div>

            </div>

        </div>

        <div class="tab-pane fade active in" id="evaluacion">
            <br />
            <div class="form-horizontal well">
                <hr />
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                @Html.HiddenFor(model => model.id_indicador)
                @Html.HiddenFor(model => model.id_periodo_indicador)

                <div class="row">
                    <div class="form-group">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("EvaluacionIndicadorEvaluaciones002")</label>
                        <div class="col-xs-6 col-md-5">
                            <input class="form-control" id="entidad" type="text" value="@ViewBag.nb_periodo_indicador" disabled="">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group has-error">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("EvaluacionIndicadorCreate007")</label>
                        <div class="col-xs-6 col-md-5">
                            <div class="input-group">
                                @Html.EditorFor(model => model.numerador, new { htmlAttributes = new { @class = "form-control num S1", data_val_number = "Este campo debe ser numérico", @type = "number", @min = "0", @max = "99999999999999999999" } })
                                <div class="input-group-btn">
                                    <button type="button" class="btn btn-default" title="@Strings.getMSG("Atencion")" data-toggle="popover" data-trigger="hover" data-content="@Strings.getMSG("EvaluacionIndicadorCreate002")">
                                        <i class="glyphicon glyphicon-question-sign"></i>
                                    </button>
                                </div>
                            </div>
                            <span style="color:red;" id="errNum"></span>
                            @Html.ValidationMessageFor(model => model.numerador, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group has-error">
                        <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("EvaluacionIndicadorCreate008")</label>
                        <div class="col-xs-6 col-md-5">
                            <div class="input-group">
                                @Html.EditorFor(model => model.denominador, new { htmlAttributes = new { @class = "form-control num S1", data_val_number = "Este campo debe ser numérico", @type = "number", @min = "0", @max = "99999999999999999999" } })
                                <div class="input-group-btn">
                                    <button type="button" class="btn btn-default" title="@Strings.getMSG("Atencion")" data-toggle="popover" data-trigger="hover" data-content="@Strings.getMSG("EvaluacionIndicadorCreate003")">
                                        <i class="glyphicon glyphicon-question-sign"></i>
                                    </button>
                                </div>
                            </div>
                            <span style="color:red;" id="errDen"></span>
                            @Html.ValidationMessageFor(model => model.denominador, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-offset-2 col-xs-6 col-md-5">
                        <p class="info">
                            @Strings.getMSG("EvaluacionIndicadorCreate001")
                        </p>
                    </div>
                </div>


                @if (ViewBag.Error != null)
                {

                    <div class="row">
                        <div class="col-xs-offset-2 col-xs-6 col-md-5">
                            <p class="danger">
                                <span class="text-danger">@ViewBag.Error</span>
                            </p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <div class="col-xs-offset-2 col-xs-6 col-md-5">
                                <input type="button" value="@Strings.getMSG("Guardar")" class="btn btn-primary" id="submit" disabled="" />
                                @Html.ActionLink(Strings.getMSG("Regresar"), "Evaluaciones", new { id = Model.id_indicador }, new { @class = "btn btn-default" })
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    <div class="row">
                        <div class="form-group">
                            <div class="col-xs-offset-2 col-xs-6 col-md-5">
                                <input type="button" value="@Strings.getMSG("Guardar")" class="btn btn-primary submit" id="btnSubmit" onclick="checkValues();" />
                                @Html.ActionLink(Strings.getMSG("Regresar"), "Evaluaciones", new { id = Model.id_indicador }, new { @class = "btn btn-default" })
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
}
