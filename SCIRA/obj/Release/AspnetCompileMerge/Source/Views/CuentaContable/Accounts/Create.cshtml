@model SCIRA.Models.c_cuenta_contable
@using SCIRA.Models
@using SCIRA.Utilidades

@{
    c_grupo_cuenta_contable gr = ViewBag.gr;
}

<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>

<script>
    var returnURL = '@(Url.Action("Accounts","CuentaContable") + "/" + gr.id_grupo_cuenta_contable)';
    var submitURL = '@Url.Action("CreateAccount", "CuentaContable")';

    $(document).ready(function () {
        menuModal.setTitle('@Strings.getMSG("CuentaContableCreate013") @gr.nb_grupo_cuenta_contable');
        loadPopover();
    });

    function trySubmit() {
        if ($("#form1").valid()) {
            executePost(
                submitURL,
                "form1",
                "submitSuccess()",
                "submitError()"
            );
        }
    }

    function submitSuccess() {
        menuModal.bodyLoad(returnURL);
    }

    function submitError() {
        toastr.error("@Strings.getMSG("ActividadCosteoIndex009")");
        menuModal.bodyLoad(returnURL);
    }

</script>



<input type="button" class="btn btn-default" value="@Strings.getMSG("Regresar")" onclick="menuModal.bodyLoad(returnURL)" />
<br />
<br />

<form id="form1">
    @Html.AntiForgeryToken()
    @Html.HiddenFor(model => model.id_grupo_cuenta_contable)

    <div class="form-horizontal">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="row">
            <div class="form-group has-error">
                <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("Clave")</label>
                <div class="col-xs-6 col-md-5">
                    <div class="input-group">
                        @Html.EditorFor(model => model.cl_cuenta_contable, new { htmlAttributes = new { @class = "form-control" } })
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default" title="@Strings.getMSG("Atencion")" data-toggle="popover" data-trigger="hover" data-content="Corresponde al número que se le asignará a la Cuenta Contable.">
                                <i class="glyphicon glyphicon-question-sign"></i>
                            </button>
                        </div>
                    </div>
                    @Html.ValidationMessageFor(model => model.cl_cuenta_contable, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>

        <div class="row">
            <div class="form-group has-error">
                <label class="control-label col-xs-3 col-md-2">@Strings.getMSG("Nombre")</label>
                <div class="col-xs-6 col-md-5">
                    <div class="input-group">
                        @Html.EditorFor(model => model.nb_cuenta_contable, new { htmlAttributes = new { @class = "form-control" } })
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default" title="@Strings.getMSG("Atencion")" data-toggle="popover" data-trigger="hover" data-content="Corresponde al nombre que se le asignará a la Cuenta Contable.">
                                <i class="glyphicon glyphicon-question-sign"></i>
                            </button>
                        </div>
                    </div>
                    @Html.ValidationMessageFor(model => model.nb_cuenta_contable, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>
    </div>
</form>

<br />
<br />

<input type="button" class="btn btn-primary pull-right" value="@Strings.getMSG("Guardar")" onclick="trySubmit();" />

<br />
<br />