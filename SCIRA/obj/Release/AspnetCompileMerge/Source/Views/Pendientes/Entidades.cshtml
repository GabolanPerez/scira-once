@model IEnumerable<SCIRA.Models.c_entidad>
@using SCIRA.Utilidades

@{
    Layout = "~/Views/Shared/_LayoutIndex.cshtml";
    ViewBag.Title = "Entidades Pendientes de Certificar";
}

<script>
    $(function () {
        chat.client.removeRow = function (typeTable, id, id_usuario) {


            if (UserID == id_usuario && typeTable == 9) {
                table
                    .rows('.R'+id)
                    .remove()
                    .draw();
            }
        };
    });
</script>


<h2><span class="catalogName">@Strings.getMSG("PendientesVerTodoIndex004") @ViewBag.periodo</span></h2>


<table id="results" class="table table-striped table-bordered table-hover">
    <thead>
        <tr>
            <th class="search">@Strings.getMSG("Entidad")</th>
            <th class="search">@Strings.getMSG("Responsable")</th>
            <th class="search">@Strings.getMSG("Puestos")</th>
            <th width="55"></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr class="R@(item.id_entidad)">
                <td>
                    @( item.cl_entidad + " - " + item.nb_entidad)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.c_usuario.nb_usuario)
                </td>
                <td>
                    @SCIRA.Utilidades.Utilidades.PuestoUsuario(item.id_responsable)
                </td>
                <td>
                    <center>
                        <a href="@Url.Action("Certificados","CertificacionEntidad", new { id = item.id_entidad })"  target="_blank">
                            <i class="fa fa-bookmark fa-lg relative" title="@Strings.getMSG("lyPCertificacionesIndex001")"><span class="NotifCounterRight">@(item.k_certificacion_estructura.Count())</span></i>
                        </a>
                    </center>
                </td>
            </tr>
        }
    </tbody>
</table>
