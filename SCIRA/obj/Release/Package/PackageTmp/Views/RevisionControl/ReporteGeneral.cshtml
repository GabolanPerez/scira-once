@using SCIRA.Utilidades

<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>

<link href="~/Content/bootstrap-select.min.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap-select.js"></script>
<script src="~/Scripts/MSInitialize.js"></script>

<form id="RGRev">
    <div class="form-horizontal">
        <div class="row has-error">
            <label class="control-label col-xs-3 col-sm-2 col-md-2 col-lg-2">@Strings.getMSG("RevisionControlCreate119")</label>
            <div class="col-xs-9 col-sm-10 col-md-10 col-lg-10">
                <textarea class="form-control" cols="50" data-content="@Strings.getMSG("RevisionControlCreate120")" data-toggle="popover" data-trigger="hover" data-val="true" data-val-required="Este campo es obligatorio" id="area1" name="entrada" rows="5" spellcheck="false" title="" data-original-title="@Strings.getMSG("Atencion")" aria-required="true"></textarea>
                <span class="field-validation-valid text-danger" data-valmsg-for="entrada" data-valmsg-replace="true"></span>
            </div>

        </div>
        <br />
        <div class="row has-error">
            <label class="control-label col-xs-3 col-sm-2 col-md-2 col-lg-2">@Strings.getMSG("RevisionControlCreate121")</label>
            <div class="col-xs-9 col-sm-10 col-md-10 col-lg-10">
                <textarea class="form-control" cols="50" data-content="@Strings.getMSG("RevisionControlCreate122")" data-toggle="popover" data-trigger="hover" data-val="true" data-val-required="Este campo es obligatorio" id="area2" name="salida" rows="5" spellcheck="false" title="" data-original-title="@Strings.getMSG("Atencion")" aria-required="true"></textarea>
                <span class="field-validation-valid text-danger" data-valmsg-for="salida" data-valmsg-replace="true"></span>
            </div>

        </div>

        <hr />


        <!-- #region Datos generales -->
        <center>
            <h4>@Strings.getMSG("EvaluacionIndicadorEvaluaciones003")Seleccione los campos y las Direcciones Generales que se mostrarán para cada Control</h4>
            <hr />
            <h5>Direcciones Generales</h5>
        </center>


        <div class="form-group">
            <label class="control-label col-xs-3 col-md-2">Direcciones Generales</label>
            <div class="col-xs-6 col-md-5">
                <div class="input-group">
                    @Html.ListBox("direccionesG", (MultiSelectList)ViewBag.DireccionGeneralL, htmlAttributes: new { @class = "form-control selectpicker" })
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default" title="Atención" data-toggle="popover" data-trigger="hover" data-content="Seleccione las direcciones Generales que desea mostrar en el reporte, si no selecciona ninguna, se mostrarán todas.">
                            <i class="glyphicon glyphicon-question-sign"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <hr />
        <center>
            <h5>Datos Generales</h5>
        </center>


        <div class="row">
            <div class="col-md-3">
                <label class="control-label col-md-8">Entidad</label>
                <input type="checkbox" name="en">
            </div>
            <div class="col-md-3">
                <label class="control-label col-md-8">Macro Proceso</label>
                <input type="checkbox" name="mp">
            </div>
            <div class="col-md-3">
                <label class="control-label col-md-8">Proceso</label>
                <input type="checkbox" name="pr">
            </div>
            <div class="col-md-3">
                <label class="control-label col-md-8">Sub Proceso</label>
                <input type="checkbox" name="sp">
            </div>
            <div class="col-md-3">
                <label class="control-label col-md-8">Tarea</label>
                <input type="checkbox" name="tarea" checked>
            </div>
        </div>
        <!-- #endregion -->
        <!-- #region Resumen del riesgo -->
        <center>
            <hr />
            <h5>Resumen del Riesgo</h5>
        </center>

        <div class="row">
            <div class="col-md-3">
                <label class="control-label col-md-8">Código</label>
                <input type="checkbox" name="codR" checked>
            </div>
            <div class="col-md-3">
                <label class="control-label col-md-8">Evento</label>
                <input type="checkbox" name="evR">
            </div>
        </div>
        <!-- #endregion -->
        <!-- #region Resumen del Control -->
        <center>
            <hr />
            <h5>Resumen del Control</h5>
        </center>

        <div class="row">
            <div class="col-md-3">
                <label class="control-label col-md-8">Código</label>
                <input type="checkbox" name="codC" checked>
            </div>
            <div class="col-md-3">
                <label class="control-label col-md-8">Actividad</label>
                <input type="checkbox" name="actC">
            </div>
            <div class="col-md-3">
                <label class="control-label col-md-8">Evidencia</label>
                <input type="checkbox" name="eviC">
            </div>
            <div class="col-md-3">
                <label class="control-label col-md-8">Area</label>
                <input type="checkbox" name="arC" checked>
            </div>
            <div class="col-md-3">
                <label class="control-label col-md-8">Responsable</label>
                <input type="checkbox" name="respC" checked>
            </div>
        </div>
        <!-- #endregion -->
        <!-- #region Evaluación del Diseño -->
        <center>
            <hr />
            <h5>Evaluación del Diseño</h5>
        </center>

        <div class="row">
            <div class="col-md-3">
                <label class="control-label col-md-8">Información de Entrada</label>
                <input type="checkbox" name="inputs">
            </div>
            <div class="col-md-3">
                <label class="control-label col-md-8">Conclusión de Diseño</label>
                <input type="checkbox" name="concD">
            </div>
            <div class="col-md-3">
                <label class="control-label col-md-8">Conclusión de Eficacia</label>
                <input type="checkbox" name="concE">
            </div>
        </div>
        <!-- #endregion -->
        <!-- #region Conclusión General -->
        <center>
            <hr />
            <h5>Conclusión General</h5>
        </center>

        <div class="row">
            <div class="col-md-3">
                <label class="control-label col-md-8">Conclusión General</label>
                <input type="checkbox" name="concG" checked>
            </div>
        </div>

        <div class="row">
            <div class="col-md-3">
                <label class="control-label col-md-8">Comentarios de Revisión</label>
                <input type="checkbox" name="comentR" checked>
            </div>
        </div>
        <!-- #endregion -->

    </div>

</form>


<div class="row">
    <div class="pull-right col-md-2">
        <input type="button" id="smtBtn" class="btn btn-primary" value="Generar Reporte" onclick="trySubmit()" />
    </div>
</div>

<br />
<br />
<br />

<!-- #region Scripts -->
<script>
    function trySubmit() {
        if ($("#RGRev").valid()) {
            var url = "@(Url.Action("GenReporteGeneral", "RevisionControl"))";


            var id = getFromURL(url, "RGRev");


            $("#menuModal .bodyContent").html('<span id="n"><embed src="@Url.Action("GetReporteGeneral","RevisionControl",null)/' + id + '" width="100%" height="700"></span>');


        } else {
            toastr.error("Asegurese de Introducir una Entrada y una Salida");
        }
    }
</script>
<!-- #endregion -->
