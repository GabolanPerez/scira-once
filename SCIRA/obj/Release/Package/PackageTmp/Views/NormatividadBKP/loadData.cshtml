



<script>
    $(document).ready(function () {
        $('#orgchart').html("");
        $('body').removeClass('loading')

        var EncData2 = @Html.Raw(ViewBag.JsonData);

        chart = new OrgChart(document.getElementById("orgchart"), {
            menu: {
                pdf: { text: "Export PDF" },
                png: { text: "Export PNG" },
                svg: { text: "Export SVG" },
                csv: { text: "Export CSV" }
            },
            nodeMenu: {
                addP: {
                    icon: "<i class='fa fa-plus'></i>",
                    text: "Agregar",
                    onClick: showAddForm
                },
                editP: {
                    icon: "<i class='fa fa-pencil'></i>",
                    text: "Editar",
                    onClick: showEditForm
                },
                deleteP: {
                    icon: "<i class='fa fa-trash'></i>",
                    text: "Borrar",
                    onClick: showDeleteForm
                },
                assignU: {
                    icon: "<i class='fa fa-group'></i>",
                    text: "Asignar Usuarios",
                    onClick: AssignUsers
                }
            },
            toolbar: true,
            onUpdate: dragged,
            onClick: clicNode,
            nodeMouseClickBehaviour: BALKANGraph.action.none,
            enableDragDrop: false,
            template: "ula",
            nodeBinding: {
                field_0: "Nombre",
                field_1: "Clave",
            },
            nodes: EncData2
        });
        
    });
</script>