@using Syncfusion.EJ2.Diagrams;
@using Syncfusion.EJ2.Navigations;

@{
    Layout = "~/Views/Shared/_LayoutIndex.cshtml";
    ViewBag.Title = "Test Diagrama";
}

<!-- Syncfusion Essential JS 2 Styles -->
<link rel="stylesheet" href="https://cdn.syncfusion.com/ej2/material.css" />

<!-- Syncfusion Essential JS 2 Scripts -->
<script src="https://cdn.syncfusion.com/ej2/dist/ej2.min.js"></script>



<h2>Diagrama @ViewBag.type</h2>

@if (ViewBag.type == 1)
{
    @(Html.EJS().Diagram("DContainer")
    .Width("100%")
    .Height("700px")
    .Nodes(ViewBag.nodes).Render())
}
else if (ViewBag.type == 2)
{
    @(Html.EJS().Diagram("DContainer")
    .Width("100%")
    .Height("580px")
    .Nodes(ViewBag.nodes)
    .Connectors(ViewBag.connectors).Render()
    )
}
else if (ViewBag.type == 3)
{
    @(Html.EJS().Diagram("container")
    .Width("100%")
    .Height("580px")
    .GetNodeDefaults("getNodeDefaults")
    .GetConnectorDefaults("getConnectorDefaults")
    .Nodes(ViewBag.nodes)
    .Connectors(ViewBag.connectors).Render()
    )
}
else if (ViewBag.type == 4)
{
    @(Html.EJS().Diagram("container")
    .Width("100%")
    .Height("580px")
    .GetNodeDefaults("getNodeDefaults")
    .GetConnectorDefaults("getConnectorDefaults")
    .Nodes(ViewBag.nodes)
    .Connectors(ViewBag.connectors).Render()
    )
}

<script>

@if(ViewBag.type == 3)
{
    @:function getNodeDefaults(obj, diagram)
    @:{
    @:    obj.width = 100;
    @:    obj.height = 100;
    @:    obj.OffsetX = 300;
    @:}

    @:function getConnectorDefaults(obj, diagram)
    @:{
    @:    obj.type = 'Orthogonal';
    @:}
}
else if(ViewBag.type == 4)
{
    @:function getNodeDefaults(obj, diagram)
    @:{
    @:    obj.width = 100;
    @:    obj.height = 60;
    @:    obj.offsetX = 300;
    @:}
    @:function getConnectorDefaults(obj, diagram)
    @:{
    @:    obj.type = 'Orthogonal';
    @:}
}

</script>
